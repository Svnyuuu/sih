# 2.通讯系统相关接口

>总入口路径：/sys
#消息状态：
|status|备注|
|1     |收件|
|2     |发件|
|3     |草稿|
|4     |回收|

收藏/非收藏
Favorite
|favorite |备注  |
|0        |未收藏|
|1        |收藏  |



## 1 收件箱
### 1.1 消息列表(条件分页)
#### 1.1.1 基本信息
> 请求路径：/sys/receive
>
> 请求方式：post
>
> 接口描述：该接口用于获取当前用户信息,带分页

#### 1.1.2 请求参数

请求参数格式：queryString,json格式

请求参数说明：

| 参数名称  | 说明         | 类型   | 是否必须 | 备注 |
| --------  | --------     | ------ | -------- | ---- |
| pageNum   | 当前页码     | number | 是       |      |
| pageSize  | 每页条数     | number | 是       |      |
| beginTime | 消息开始时间 | Date   | 否       |      |
| endTime   | 消息结束时间 | Date   | 否       |      |
| title     | 消息主题     | string | 否       |      |
| status    | 消息状态     | string | 是       |      |

请求数据样例：

```

{
  "pageNum": 1,
  "pageSize": 10,
  "dateTime": 2020-04-13 10:25:30,
  "endTime": 2020-05-13 10:25:30,
  "title": "我是中国人",
  "status": "已读"
}
```

```

```
#### 1.1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称       | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ---------- | ------ | -------- | ------ | --------------------- | -------- |
| code       | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message    | string | 非必须   |        | 提示信息              |          |
| data       | object | 必须     |        | 返回的数据            |          |
| -total     | number | 必须     |        | 总记录数              |          |
| -items     | array  | 必须     |        | 数据列表              |          |
| -messageId | number | 非必须   |        | 消息ID                |          |
| -subject   | string | 非必须   |        | 消息主题              |          |
| -sender    | string | 非必须   |        | 发送者                |          |
| -receiver  | string | 非必须   |        | 接收者                |          |
| -status    | string | 非必须   |        | 消息状态              |          |
| -sendTime  | string | 非必须   |        | 创建时间              |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "消息列表分页成功",
    "data": {
    	"messageId":5,
	"subject":"我是中国人"
        "sender": "sender@example.com",
        "receiver": "receiver@example.com",
        "state": "1",
        "sendTime":"2024/06/06 18:00:00"
    }
    ......
}
```

### 1.2 删除消息

#### 1.2.1 基本信息

> 请求路径：/sys/delete
>
> 请求方式：DELETE
>
> 接口描述：该接口用于删除指定的消息

#### 1.2.2 请求参数

请求参数格式：query

请求参数说明：

| 参数名称 | 说明   | 类型    | 是否必须 | 备注               |
| -------- | ------ | ------- | -------- | ------------------ |
| id       | 消息ID | Integer | 是       | 需要删除的消息的ID |

请求数据样例：

```json
{
    "id":1
}
```

#### 1.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "删除消息成功",
    "data": null
}
```
### 1.3 收藏/取消消息

#### 1.3.1 基本信息

> 请求路径：/receive/collectUpdate
>
> 请求方式：POST
>
> 接口描述：该接口用于标记消息是否已收藏

#### 2.1.3.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称 | 说明   | 类型    | 是否必须 | 备注                                |
| -------- | ------ | ------- | -------- | ----------------------------------- |
| id       | 邮件ID | Integer | 是       | 需要标记的邮件的ID                  |

请求数据样例：

```json
{
    "id": 12
}
```

#### 1.3.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "收藏消息成功",
    "data": null
}
```













### 2.1.2 搜索邮件(关键字搜索)

#### 2.1.2.1 基本信息

> 请求路径：/email/searchByKeyWord
>
> 请求方式：GET
>
> 接口描述：该接口用于根据邮件内容和主题进行关键字搜索

#### 2.1.2.2 请求参数

请求参数格式：query

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注             |
| -------- | ------ | ------ | -------- | ---------------- |
| keyWord  | 关键词 | string | 是       | 需要搜索的关键词 |

请求数据样例：

```json
{
   "keyWord":"Test"
}
```

#### 2.1.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | array  | 非必须   |        | 返回的邮件列表        |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "根据关键字“Test”搜索邮件成功",
    "data": [
        {
            "email_id": 11,
            "to": "receiver@example.com",
            "receiveBoat": "ABCDE",
            "from": "sender3@example.com",
            "sendBoat": "XZ",
            "subject": "Test Email2",
            "content": "This is a test email2.",
            "sendTime": "2024-06-23 23:57:35",
            "collect": 0,
            "state": 0,
            "attachment": "http://example.com/attachment.pdf"
        },
        // 更多邮件...
    ]
}
```

### 2.1.3 搜索邮件(时间搜索)

#### 2.1.2.1 基本信息

> 请求路径：/email/search
>
> 请求方式：GET
>
> 接口描述：该接口用于根据开始时间和截止时间进行搜索

#### 2.1.2.2 请求参数

请求参数格式：query

请求参数说明：

| 参数名称  | 说明   | 类型   | 是否必须 | 备注     |
| --------- | ------ | ------ | -------- | -------- |
| startTime | 关键词 | string | 是       | 开始时间 |
| endTime   | 关键词 | string | 是       | 截止时间 |

请求数据样例：

```json
{
    "startTime": "2024/06/06 18:00:00",
    "endTime": "2024/06/06 18:00:10"
}
```

#### 2.1.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | array  | 非必须   |        | 返回的邮件列表        |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "搜索邮件成功",
    "data": [
        {
            "email_id": 11,
            "to": "receiver@example.com",
            "receiveBoat": "ABCDE",
            "from": "sender3@example.com",
            "sendBoat": "XZ",
            "subject": "Test Email2",
            "content": "This is a test email2.",
            "sendTime": "2024-06-23 23:57:35",
            "collect": 0,
            "state": 0,
            "attachment": "http://example.com/attachment.pdf"
        },
        // 更多邮件...
    ]
}
```

### 2.1.2 读取邮件

#### 2.1.2.1 基本信息

> 请求路径：/email/read
>
> 请求方式：GET
>
> 接口描述：该接口用于读取指定的邮件

#### 2.1.2.2 请求参数

请求参数格式：query

请求参数说明：

| 参数名称 | 说明   | 类型    | 是否必须 | 备注               |
| -------- | ------ | ------- | -------- | ------------------ |
| id       | 邮件ID | Integer | 是       | 需要读取的邮件的ID |

请求数据样例：

```json
{
    "id":1
}
```

#### 2.1.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的邮件详情        |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "读取邮件成功",
    "data": {
           "email_id": 123,
           "to": "收件人邮箱",
           "receiveBoat": "收件人名称",
           "from": "发件人邮箱",
           "sendBoat": "发件人名称",
           "subject": "邮件主题",
           "content": "邮件内容"
    }
}
```





## 2.2 新建邮件

### 2.2.1 发送邮件

#### 2.2.1.1 基本信息

> 请求路径：/email/send
>
> 请求方式：POST
>
> 接口描述：该接口用于发送邮件

#### 2.2.1.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称    | 说明   | 类型   | 是否必须 | 备注             |
| ----------- | ------ | ------ | -------- | ---------------- |
| to          | 收件人 | string | 是       | 收件人的邮箱地址 |
| ReceiveBoat | 收件船 | string | 是       | 收件人所在的船   |
| from        | 发件人 | string | 是       | 发件人           |
| SendBoat    | 发件船 | string | 是       | 发件人所在的船   |
| subject     | 主题   | string | 是       | 邮件的主题       |
| content     | 内容   | string | 是       | 邮件的内容       |
| attachment  | 附件   | string | 否       | 附件             |

请求数据样例：

```json
{
    "to": "receiver@example.com",
    "ReceiveBoat": "海洋之星",
    "from": "sender@example.com",
    "SendBoat": "探索者号",
    "subject": "Test Email",
    "content": "This is a test email."
}
```

#### 2.2.1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "邮件发送成功",
    "data": null
}
```

### 2.2.2 更新邮件

#### 2.2.2.1 基本信息

> 请求路径：/email/update
>
> 请求方式：PUT
>
> 接口描述：该接口用于更新指定的邮件内容

#### 2.2.2.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注               |
| -------- | ------ | ------ | -------- | ------------------ |
| id       | 邮件ID | string | 是       | 需要更新的邮件的ID |
| content  | 内容   | string | 是       | 新的邮件内容       |

请求数据样例：

```json
{
    "id": "123",
    "content": "This is the updated content."
}
```

#### 2.2.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "更新草稿箱成功",
    "data": null
}
```

## 2.3 收藏夹

### 2.3.1 取消收藏邮件

#### 2.3.1.1 基本信息

> 请求路径：/email/unmark
>
> 请求方式：POST
>
> 接口描述：该接口用于取消标记邮件为已收藏

#### 2.3.1.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注                   |
| -------- | ------ | ------ | -------- | ---------------------- |
| id       | 邮件ID | string | 是       | 需要取消收藏的邮件的ID |

请求数据样例：

···json
{
    "id": "123"
}

```

#### 2.3.1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "取消收藏邮件成功",
    "data": null
}
```

### 2.3.2 读取邮件

#### 2.3.2.1 基本信息

> 请求路径：/email/read
>
> 请求方式：GET
>
> 接口描述：该接口用于读取指定的邮件

#### 2.3.2.2 请求参数

请求参数格式：query

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注               |
| -------- | ------ | ------ | -------- | ------------------ |
| id       | 邮件ID | string | 是       | 需要读取的邮件的ID |

#### 2.3.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的邮件详情        |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "读取邮件成功",
    "data": {
           "email_id": 123,
           "to": "收件人邮箱",
           "receiveBoat": "收件人名称",
           "from": "发件人邮箱",
           "sendBoat": "发件人名称",
           "subject": "邮件主题",
           "content": "邮件内容"
    }
}
```

## 2.4 已发送

### 2.4.1 读取邮件

#### 2.4.1.1 基本信息

> 请求路径：/email/read
>
> 请求方式：GET
>
> 接口描述：该接口用于读取指定的邮件

#### 2.4.1.2 请求参数

请求参数格式：query

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注               |
| -------- | ------ | ------ | -------- | ------------------ |
| id       | 邮件ID | string | 是       | 需要读取的邮件的ID |

#### 2.4.1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的邮件详情        |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "读取邮件成功",
    "data": {
           "email_id": 123,
           "to": "收件人邮箱",
           "receiveBoat": "收件人名称",
           "from": "发件人邮箱",
           "sendBoat": "发件人名称",
           "subject": "邮件主题",
           "content": "邮件内容"
    }
}
```

### 2.4.2 收藏邮件

#### 2.4.2.1 基本信息

> 请求路径：/email/mark
>
> 请求方式：POST
>
> 接口描述：该接口用于标记邮件是否已收藏

#### 2.4.2.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注                            |
| -------- | ------ | ------ | -------- | ------------------------------- |
| id       | 邮件ID | string | 是       | 需要标记的邮件的ID              |
| mark     | 标记   | string | 是       | 邮件的标记，如"已收藏","未收藏" |

请求数据样例：

```json
{
    "id": "123",
    "mark": "已收藏"
}
```

#### 2.4.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "收藏邮件成功",
    "data": null
}
```

## 2.5 回收站

### 2.5.1 读取邮件

#### 2.5.1.1 基本信息

> 请求路径：/email/read
>
> 请求方式：GET
>
> 接口描述：该接口用于读取指定的邮件

#### 2.5.1.2 请求参数

请求参数格式：query

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注               |
| -------- | ------ | ------ | -------- | ------------------ |
| id       | 邮件ID | string | 是       | 需要读取的邮件的ID |

#### 2.5.1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的邮件详情        |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "读取邮件成功",
    "data": {
           "email_id": 123,
           "to": "收件人邮箱",
           "receiveBoat": "收件人名称",
           "from": "发件人邮箱",
           "sendBoat": "发件人名称",
           "subject": "邮件主题",
           "content": "邮件内容"
    }
}
```

### 2.5.2 还原邮件

#### 2.5.2.1 基本信息

> 请求路径：/email/restore
>
> 请求方式：POST
>
> 接口描述：该接口用于从回收站还原邮件

#### 2.5.2.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称 | 说明   | 类型   | 是否必须 | 备注               |
| -------- | ------ | ------ | -------- | ------------------ |
| id       | 邮件ID | string | 是       | 需要还原的邮件的ID |

请求数据样例：

```json
{
    "id": "123"
}
```

#### 2.5.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "还原邮件成功",
    "data": null
}
```

## 2.6 草稿箱

### 2.6.1 发送邮件

#### 2.6.1.1 基本信息

> 请求路径：/email/send
>
> 请求方式：POST
>
> 接口描述：该接口用于发送邮件

#### 2.6.1.2 请求参数

请求参数格式：application/json

请求参数说明：

| 参数名称    | 说明   | 类型   | 是否必须 | 备注             |
| ----------- | ------ | ------ | -------- | ---------------- |
| to          | 收件人 | string | 是       | 收件人的邮箱地址 |
| ReceiveBoat | 收件船 | string | 是       | 收件人所在的船   |
| from        | 发件人 | string | 是       | 发件人           |
| SendBoat    | 发件船 | string | 是       | 发件人所在的船   |
| subject     | 主题   | string | 是       | 邮件的主题       |
| content     | 内容   | string | 是       | 邮件的内容       |
| attachment  | 附件   | string | 否       | 附件             |

请求数据样例：

```json
{
    "to": "receiver@example.com",
    "ReceiveBoat": "海洋之星",
    "from": "sender@example.com",
    "SendBoat": "探索者号",
    "subject": "Test Email",
    "content": "This is a test email."
}
```

#### 2.6.1.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的数据            |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "邮件发送成功",
    "data": null
}
```

### 2.6.2 读取邮件

#### 2.6.2.1 基本信息

> 请求路径：/email/read
>
> 请求方式：GET
>
> 接口描述：该接口用于读取指定的邮件

#### 2.6.2.2 请求参数

请求参数格式：query

请求参数说明：

| 参数名称 | 说明   | 类型    | 是否必须 | 备注               |
| -------- | ------ | ------- | -------- | ------------------ |
| id       | 邮件ID | Integer | 是       | 需要读取的邮件的ID |

请求数据样例：

```json
{
    "id":1
}
```

#### 2.6.2.3 响应数据

响应数据类型：application/json

响应参数说明：

| 名称    | 类型   | 是否必须 | 默认值 | 备注                  | 其他信息 |
| ------- | ------ | -------- | ------ | --------------------- | -------- |
| code    | number | 必须     |        | 响应码, 0-成功,1-失败 |          |
| message | string | 非必须   |        | 提示信息              |          |
| data    | object | 非必须   |        | 返回的邮件详情        |          |

响应数据样例：

```json
{
    "code": 0,
    "message": "读取邮件成功",
    "data": {
           "email_id": 123,
           "to": "收件人邮箱",
           "receiveBoat": "收件人名称",
           "from": "发件人邮箱",
           "sendBoat": "发件人名称",
           "subject": "邮件主题",
           "content": "邮件内容"
    }
}
```
